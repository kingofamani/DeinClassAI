<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>評估管理 API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="../shared/api-styles.css" rel="stylesheet">
</head>
<body>
    <div id="main-container" class="container-fluid p-0">
        <!-- 內容將由 JavaScript 動態生成 -->
    </div>

    <script src="../shared/api-common.js"></script>
    <script>
        // 評估管理 API 分類配置
        const evaluationsCategory = {
            name: '評估管理',
            icon: 'fas fa-chart-line',
            endpoints: [
                {
                    path: '/api/v1/evaluations/config',
                    method: 'GET',
                    summary: '獲取評估配置',
                    description: '獲取評估系統的配置設定',
                    auth: true,
                    params: [],
                    body: null
                },
                {
                    path: '/api/v1/evaluations/config',
                    method: 'POST',
                    summary: '更新評估配置',
                    description: '更新評估系統的配置設定',
                    auth: true,
                    params: [],
                    body: {
                        enabled: true,
                        auto_collect: true,
                        rating_required: false,
                        feedback_template: '請對此回應進行評分和反饋'
                    }
                },
                {
                    path: '/api/v1/evaluations/feedbacks/all',
                    method: 'GET',
                    summary: '獲取所有反饋',
                    description: '獲取系統中的所有用戶反饋',
                    auth: true,
                    params: [],
                    body: null
                },
                {
                    path: '/api/v1/evaluations/feedbacks/all',
                    method: 'DELETE',
                    summary: '刪除所有反饋',
                    description: '刪除系統中的所有用戶反饋',
                    auth: true,
                    params: [],
                    body: null
                },
                {
                    path: '/api/v1/evaluations/feedbacks/all/export',
                    method: 'GET',
                    summary: '匯出所有反饋',
                    description: '匯出系統中的所有反饋資料',
                    auth: true,
                    params: [],
                    body: null
                },
                {
                    path: '/api/v1/evaluations/feedbacks/user',
                    method: 'GET',
                    summary: '獲取用戶反饋',
                    description: '獲取當前用戶的反饋記錄',
                    auth: true,
                    params: [],
                    body: null
                },
                {
                    path: '/api/v1/evaluations/feedbacks',
                    method: 'DELETE',
                    summary: '刪除反饋',
                    description: '刪除用戶的反饋記錄',
                    auth: true,
                    params: [],
                    body: null
                },
                {
                    path: '/api/v1/evaluations/feedback',
                    method: 'POST',
                    summary: '提交反饋',
                    description: '提交新的用戶反饋',
                    auth: true,
                    params: [],
                    body: {
                        message_id: 'msg_12345',
                        rating: 5,
                        comment: '這個回應非常有幫助',
                        tags: ['有用', '準確'],
                        metadata: {
                            model: 'gpt-3.5-turbo',
                            response_time: 1.2
                        }
                    }
                },
                {
                    path: '/api/v1/evaluations/feedback/{id}',
                    method: 'DELETE',
                    summary: '根據 ID 刪除反饋',
                    description: '根據反饋 ID 刪除特定的反饋記錄',
                    auth: true,
                    params: [
                        { name: 'id', type: 'string', description: '反饋 ID', required: true }
                    ],
                    body: null
                }
            ]
        };

        // 初始化頁面
        document.addEventListener('DOMContentLoaded', function() {
            initializeCategoryPage('evaluations', evaluationsCategory);
        });
    </script>
</body>
</html>